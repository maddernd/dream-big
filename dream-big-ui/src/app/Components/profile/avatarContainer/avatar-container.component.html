<div class="container">
    <div class="avatar">
      <app-avatar #avatar
            (avatarChanged)="prepareLink()"
            [clothing]="clothing.name"
            [clothingGraphic]="clothingGraphic.name"
            [colors]="getColorsObject()"
            [hairType]="hairType.name"
            [eyebrowType]="eyebrowType.name"
            [eyeType]="eyeType.name"
            [noseType]="noseType.name"
            [mouthType]="mouthType.name"
            [facialHairType]="facialHairType.name"
            [glassesType]="glassesType.name"
            [shape]="shape"
            [enableBackground]="enableBackground"
            [enableFace]="enableFace"
      >
      </app-avatar>
      <br/>
      <button (click)="toggleProfileForm()">
        <ng-container *ngIf="!profileForm">EDIT PROFILE</ng-container>
        <ng-container *ngIf="profileForm">BACK</ng-container>
      </button>
    </div>
    <div>
    <div *ngIf="profileForm">
      <div class="box">
        <h3>{{texts.skin}}</h3>
        <input type="color" [(ngModel)]="colors.skin"/>
        <button (click)="colors.skin = randomizeColor();"><div class="random small"></div></button>
      </div>

      <div class="box">
        <h3>{{texts.hair}}</h3>
        <div>
          <div class="flex">
            <div>
              <input type="color" [(ngModel)]="colors.hair"/>
              <button (click)="colors.hair = randomizeColor();"><div class="random small"></div></button>
            </div>
            <div>
              <div><span class="iteration">{{texts.hairStyle}} {{hairType.index}}</span></div>
              <button (click)="iterateOverHairTypes(false)" class="iterate"><</button>
              <button (click)="iterateOverHairTypes(true)" class="iterate">></button>
              <button (click)="getRandomHairStyle()"><div class="random small"></div></button>
            </div>
          </div>
          <div *ngIf="hairType.name === HairTypes.FRIDA || hairType.name === HairTypes.FROANDBAND">
            <h4>{{texts.accessory}}</h4>
            <input type="color" [(ngModel)]="colors.accessory"/>
            <button (click)="colors.accessory = randomizeColor();"><div class="random small"></div></button>
          </div>
        </div>
      </div>

      <div class="box">
        <h3>{{texts.clothes}}</h3>
        <div>
          <div class="flex">
            <div>
              <input type="color" [(ngModel)]="colors.clothes"/>
              <button (click)="colors.clothes = randomizeColor();"><div class="random small"></div></button>
            </div>
            <div>
              <div><span class="iteration">{{texts.clothing}} {{clothing.index}}</span></div>
              <button (click)="iterateOverClothingTypes(false)" class="iterate"><</button>
              <button (click)="iterateOverClothingTypes(true)" class="iterate">></button>
              <button (click)="getRandomClothing()"><div class="random small"></div></button>
            </div>
          </div>
          <ng-container *ngIf="clothing.name === ClothingTypes.GRAPHIC_SHIRT">
            <h4>{{texts.print}}</h4>
            <div class="flex">
              <div>
                <input type="color" [(ngModel)]="colors.graphic"/>
                <button (click)="colors.graphic = randomizeColor();"><div class="random small"></div></button>
              </div>
              <div>
                <div><span class="iteration">{{texts.print}} {{clothingGraphic.index}}</span></div>
                <button (click)="iterateOverClothingGraphicTypes(false)" class="iterate"><</button>
                <button (click)="iterateOverClothingGraphicTypes(true)" class="iterate">></button>
                <button (click)="getRandomClothingGraphic()"><div class="random small"></div></button>
              </div>
            </div>
          </ng-container>
        </div>
      </div>

      <ng-container *ngIf="enableFace">
        <div class="box">
          <h3>{{texts.face}}</h3>
          <div>
            <h4>{{texts.eyebrows}}</h4>
            <div class="flex">
              <div>
                <input type="color" [(ngModel)]="colors.eyebrows"/>
                <button (click)="colors.eyebrows = randomizeColor();"><div class="random small"></div></button>
              </div>
              <div>
                <div><span class="iteration">{{texts.eyebrows}} {{eyebrowType.index}}</span></div>
                <button (click)="iterateOverEyebrowTypes(false)" class="iterate"><</button>
                <button (click)="iterateOverEyebrowTypes(true)" class="iterate">></button>
                <button (click)="getRandomEyebrowType()"><div class="random small"></div></button>
              </div>
            </div>
            <h4>{{texts.eyes}}</h4>
            <div class="flex">
              <div>
                <ng-container *ngIf="eyeType.name !== EyeTypes.CLOSED">
                  <input type="color" [(ngModel)]="colors.eyes"/>
                  <button (click)="colors.eyes = randomizeColor();"><div class="random small"></div></button>
                </ng-container>
              </div>
              <div>
                <div><span class="iteration">{{texts.eyes}} {{eyeType.index}}</span></div>
                <button (click)="iterateOverEyeTypes(false)" class="iterate"><</button>
                <button (click)="iterateOverEyeTypes(true)" class="iterate">></button>
                <button (click)="getRandomEyeType()"><div class="random small"></div></button>
              </div>
            </div>
            <h4>{{texts.nose}}</h4>
            <div class="flex">
              <div></div>
              <div>
                <div><span class="iteration">{{texts.nose}} {{noseType.index}}</span></div>
                <button (click)="iterateOverNoseTypes(false)" class="iterate"><</button>
                <button (click)="iterateOverNoseTypes(true)" class="iterate">></button>
                <button (click)="getRandomNoseType()"><div class="random small"></div></button>
              </div>
            </div>
            <h4>{{texts.mouth}}</h4>
            <div class="flex">
              <div>
                <input type="color" [(ngModel)]="colors.mouth"/>
                <button (click)="colors.mouth = randomizeColor();"><div class="random small"></div></button>
              </div>
              <div>
                <div><span class="iteration">{{texts.mouth}} {{mouthType.index}}</span></div>
                <button (click)="iterateOverMouthTypes(false)" class="iterate"><</button>
                <button (click)="iterateOverMouthTypes(true)" class="iterate">></button>
                <button (click)="getRandomMouthType()"><div class="random small"></div></button>
              </div>
            </div>
            <h4>{{texts.facialHair}}</h4>
            <div class="flex">
              <div>
                <input type="color" [(ngModel)]="colors.facialHair"/>
                <button (click)="colors.facialHair = randomizeColor();"><div class="random small"></div></button>
              </div>
              <div>
                <div><span class="iteration">{{texts.facialHair}} {{facialHairType.index}}</span></div>
                <button (click)="iterateOverFacialHairTypes(false)" class="iterate"><</button>
                <button (click)="iterateOverFacialHairTypes(true)" class="iterate">></button>
                <button (click)="getRandomFacialHairType()"><div class="random small"></div></button>
              </div>
            </div>
            <h4>{{texts.glasses}}</h4>
            <div class="flex">
              <div>
                <input type="color" [(ngModel)]="colors.glasses"/>
                <button (click)="colors.glasses = randomizeColor();"><div class="random small"></div></button>
              </div>
              <div>
                <div><span class="iteration">{{texts.glasses}} {{glassesType.index}}</span></div>
                <button (click)="iterateOverGlassesTypes(false)" class="iterate"><</button>
                <button (click)="iterateOverGlassesTypes(true)" class="iterate">></button>
                <button (click)="getRandomGlassesType()"><div class="random small"></div></button>
              </div>
            </div>

          </div>
        </div>
      </ng-container>

        <button (click)="save()" class="save">
         SAVE
        </button>
    </div>
    </div>
    <div *ngIf="DiscardPopUp" class="discardPopUp">
      <p>
        You haven't saved your changes. Did you still want to return?
        This will discard all changes made.
      </p>
      <button (click)="discard()">
        YES
      </button>
      <button (click)="dontDiscard()">
        NO
      </button>
    </div>
  </div>
