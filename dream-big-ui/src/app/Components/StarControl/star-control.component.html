<div class="row">
  <div class="col-md-4">
    <div class="mt-3 mx-3">
      <mat-accordion class="headers-align">
        <mat-expansion-panel expanded>
          <mat-expansion-panel-header>
            <mat-panel-title>Category Scores</mat-panel-title>
          </mat-expansion-panel-header>

          <button mat-raised-button (click)="randomise()">
            Randomise Scores
          </button>

          <mat-action-row *ngFor="let cat of categories">
            <button
              mat-fab
              [id]="cat.name"
              disabled
              [ngStyle]="{ 'background-color': cat.colour }"
            ></button>
            <mat-slider
              thumbLabel
              style="width: 100%"
              [(ngModel)]="cat.score"
              min="0"
              max="100"
              class="mt-1"
              placeholder="cat.name"
              (input)="cat.score = $event.value!; onInputChange()"
            ></mat-slider>
          </mat-action-row>
        </mat-expansion-panel>

        <mat-expansion-panel class="mt-1">
          <mat-expansion-panel-header>
            <mat-panel-title> Star Attributes</mat-panel-title>
          </mat-expansion-panel-header>
          <mat-panel-description>
            <button mat-raised-button (click)="resetCategories()">Reset</button>
          </mat-panel-description>
          <mat-action-row>
            <mat-label>Rotation</mat-label>
            <mat-slider
              defaultColor="blue"
              style="width: 100%"
              class="mx-3"
              name="rotation"
              [(ngModel)]="rotation"
              type="range"
              (input)="rotation = $event.value!; onInputChange()"
              min="0"
              max="360"
            ></mat-slider>
          </mat-action-row>
          <mat-action-row>
            <mat-label>Size</mat-label>
            <mat-slider
              style="width: 100%"
              class="mx-3"
              name="size"
              min="1"
              [(ngModel)]="starSize"
              type="range"
              (input)="starSize = $event.value!; onInputChange()"
            ></mat-slider>
          </mat-action-row>
          <!-- <mat-action-row>
            <label style="width: 4rem" for="x">X</label>
            <mat-slider
              style="width: 100%"
              class="mx-3"
              name="x"
              min="0"
              max="1000"
              [(ngModel)]="centrePoint.x"
              type="range"
              (input)="centrePoint.x = $event.value!; onInputChange()"
            ></mat-slider>
          </mat-action-row>

          <mat-action-row>
            <label style="width: 4rem" for="y">Y</label>
            <mat-slider
              style="width: 100%"
              class="mx-3"
              name="y"
              min="0"
              max="1000"
              [(ngModel)]="centrePoint.y"
              type="range"
              (input)="centrePoint.y = $event.value!; onInputChange()"
            ></mat-slider>
          </mat-action-row> -->
          <mat-action-row>
            <mat-form-field appearance="fill" style="width: 6rem">
              <mat-label>Inner Star Size</mat-label>
              <input
                matInput
                name="minScore"
                [(ngModel)]="minScore"
                type="number"
                (input)="onInputChange()"
                min="1"
                max="100"
              />
            </mat-form-field>
            <mat-form-field appearance="fill" style="width: 6rem">
              <mat-label>Num Spikes</mat-label>
              <input
                matInput
                name="spikes"
                [(ngModel)]="numSpikes"
                type="number"
                (input)="changeSpikes($event)"
                min="1"
              />
            </mat-form-field>
            <mat-form-field appearance="fill" style="width: 6rem">
              <mat-label>Outer Ratio</mat-label>
              <input
                matInput
                [(ngModel)]="outerRatio"
                (input)="onInputChange()"
                type="number"
                min="1"
            /></mat-form-field>

            <mat-form-field appearance="fill" style="width: 6rem">
              <mat-label>Inner Ratio</mat-label>
              <input
                matInput
                [(ngModel)]="innerRatio"
                (input)="onInputChange()"
                type="number"
                min="1"
              />
            </mat-form-field>
          </mat-action-row>
        </mat-expansion-panel>
      </mat-accordion>
    </div>
  </div>
  <div class="col-md-8 mt-3">
    <app-konv-star
      [categories]="categories"
      [starSize]="starSize"
      [centrePoint]="centrePoint"
      [rotation]="rotation"
      [outerRatio]="outerRatio"
      [innerRatio]="innerRatio"
      [numSpikes]="numSpikes"
      [polygonFillColour]="polygonFillColour"
      [minScore]="minScore"
    ></app-konv-star>
  </div>
</div>
